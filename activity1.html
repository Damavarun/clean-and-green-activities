<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Activity 1 - Solar Irrigation System</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Poppins', sans-serif;
        }

        body {
            margin: 0;
            background-color: #f6f4fa;
            color: #333;
            display: flex;
            min-height: 100vh;
            transition: all 0.3s ease;
        }

        /* üîπ SIDEBAR - Consistent with main page */
        .sidebar {
            background-color: #5b3dc2;
            color: white;
            width: 260px;
            min-height: 100vh;
            padding: 20px;
            box-sizing: border-box;
            position: fixed;
            left: 0;
            top: 0;
            overflow: hidden;
            display: flex;
            flex-direction: column;
            transition: all 0.3s ease;
            z-index: 1000;
        }

        .sidebar-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
        }

        .sidebar h2 {
            color: #ffd633;
            text-align: center;
            margin: 0;
            flex-grow: 1;
        }

        .nav-toggle-btn {
            font-size: 26px;
            background: none;
            border: none;
            cursor: pointer;
            color: #fff;
            padding: 8px;
            transition: all 0.3s ease;
            border-radius: 6px;
        }

        .nav-toggle-btn:hover {
            background-color: rgba(255, 255, 255, 0.1);
        }

        .sidebar a {
            display: flex;
            align-items: center;
            color: white;
            text-decoration: none;
            padding: 12px 15px;
            margin-bottom: 10px;
            border-radius: 8px;
            transition: background-color 0.3s ease, color 0.3s ease;
        }

        .sidebar a i {
            margin-right: 10px;
            font-size: 18px;
        }

        .sidebar a span {
            white-space: nowrap;
        }

        .sidebar a:hover {
            background-color: #7c5ce3;
        }

        .sidebar a.active {
            background-color: #7452db;
        }

        .sidebar.collapsed {
            width: 70px;
            padding: 20px 5px;
        }

        .sidebar.collapsed .sidebar-header h2 {
            font-size: 0;
        }

        .sidebar.collapsed a span {
            display: none;
        }

        .sidebar.collapsed a i {
            margin: 0 auto;
        }

        .sidebar.collapsed .nav-toggle-btn {
            font-size: 22px;
            padding: 6px;
        }

        /* üåô DARK MODE */
        body.dark-mode {
            background-color: #1c1f26;
            color: #e3e3e3;
        }

        body.dark-mode .sidebar {
            background-color: #13161d;
        }

        body.dark-mode .sidebar h2 {
            color: #00d9ff;
        }

        body.dark-mode .sidebar a.active {
            background-color: #232833;
        }

        body.dark-mode .sidebar a:hover {
            background-color: #1f2430;
        }

        .mode-btn {
            background-color: #ffd633;
            color: #333;
            border: none;
            padding: 12px 18px;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            margin-top: auto;
            width: 100%;
            transition: all 0.3s ease;
        }

        .mode-btn:hover {
            background-color: #ffcc00;
        }

        body.dark-mode .mode-btn {
            background-color: #00d9ff;
            color: #000;
        }

        body.dark-mode .mode-btn:hover {
            background-color: #00bcd4;
        }

        .mobile-menu-toggle {
            display: none;
            position: fixed;
            top: 20px;
            left: 20px;
            background: #5b3dc2;
            color: white;
            border: none;
            border-radius: 8px;
            padding: 12px;
            font-size: 24px;
            cursor: pointer;
            z-index: 1001;
            transition: all 0.3s ease;
        }

        .mobile-menu-toggle:hover {
            background: #7c5ce3;
        }

        body.dark-mode .mobile-menu-toggle {
            background: #13161d;
        }

        .main-content {
            margin-left: 260px;
            padding: 40px;
            flex-grow: 1;
            transition: margin-left 0.3s ease;
            display: flex;
            flex-direction: column;
            align-items: center;
            min-height: 100vh;
            box-sizing: border-box;
            width: calc(100% - 260px);
        }

        .sidebar.collapsed + .main-content {
            margin-left: 70px;
            width: calc(100% - 70px);
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            width: 100%;
        }

        /* üåà HEADINGS */
        h1, h3 {
            color: #f5b700;
            text-align: center;
        }

        body.dark-mode h1, 
        body.dark-mode h3 {
            color: #00d9ff;
        }

        /* üß© ACTIVITY SECTION */
        .activity-section {
            width: 100%;
            max-width: 1000px;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        /* üß© DIAGRAM BOX - IMPROVED IMAGE RESIZING */
        .diagram-box {
            background: #fff;
            border: 3px solid transparent;
            border-radius: 16px;
            padding: 30px;
            margin: 25px 0;
            box-shadow: 0px 4px 12px rgba(255, 215, 0, 0.25);
            transition: all 0.3s ease;
            width: 100%;
            max-width: 900px;
            text-align: center;
            position: relative;
        }

        .diagram-box::before {
            content: '';
            position: absolute;
            top: -3px;
            left: -3px;
            right: -3px;
            bottom: -3px;
            background: linear-gradient(45deg, #ffd633, #ffb300, #ff9100, #ffd633);
            background-size: 400% 400%;
            border-radius: 19px;
            z-index: -1;
            animation: borderRotate 3s linear infinite;
        }

        body.dark-mode .diagram-box {
            background: #232733;
            box-shadow: 0px 4px 15px rgba(0, 217, 255, 0.3);
        }

        body.dark-mode .diagram-box::before {
            background: linear-gradient(45deg, #00d9ff, #0099cc, #0066cc, #00d9ff);
            animation: borderRotate 2s linear infinite;
        }

        /* üñºÔ∏è IMAGE - IMPROVED RESIZING */
        .diagram-container {
            width: 100%;
            max-width: 800px;
            height: auto;
            margin: 15px auto;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0px 4px 20px rgba(0,0,0,0.2);
            background: linear-gradient(135deg, #f6f4fa, #e0d8f5);
            display: flex;
            align-items: center;
            justify-content: center;
            min-height: 300px;
        }

        .diagram {
            display: block;
            width: 100%;
            height: auto;
            max-height: 500px;
            object-fit: contain;
            transition: transform 0.3s ease;
        }

        .diagram:hover {
            transform: scale(1.02);
        }

        .diagram-placeholder {
            width: 100%;
            height: 400px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 12px;
            margin: 15px auto;
            color: #5b3dc2;
            font-weight: 600;
            background: linear-gradient(135deg, #f6f4fa, #e0d8f5);
        }

        body.dark-mode .diagram-placeholder {
            background: linear-gradient(135deg, #232733, #1c1f26);
            color: #00d9ff;
        }

        /* üìò THEORY BOX */
        .theory-box {
            background: #fff;
            border: 3px solid transparent;
            border-radius: 16px;
            padding: 30px;
            margin: 25px 0;
            line-height: 1.6;
            box-shadow: 0px 4px 12px rgba(255, 215, 0, 0.25);
            transition: all 0.3s ease;
            width: 100%;
            max-width: 900px;
            text-align: center;
            position: relative;
        }

        .theory-box::before {
            content: '';
            position: absolute;
            top: -3px;
            left: -3px;
            right: -3px;
            bottom: -3px;
            background: linear-gradient(45deg, #ffd633, #ffb300, #ff9100, #ffd633);
            background-size: 400% 400%;
            border-radius: 19px;
            z-index: -1;
            animation: borderRotate 3s linear infinite;
        }

        body.dark-mode .theory-box {
            background: #232733;
            box-shadow: 0px 4px 15px rgba(0, 217, 255, 0.3);
        }

        body.dark-mode .theory-box::before {
            background: linear-gradient(45deg, #00d9ff, #0099cc, #0066cc, #00d9ff);
            animation: borderRotate 2s linear infinite;
        }

        /* ‚ú® Highlights */
        .highlight {
            color: #f5b700;
            font-weight: 700;
        }

        body.dark-mode .highlight {
            color: #00d9ff;
        }

        .strong-highlight {
            color: #ff6b00;
            font-weight: 900;
        }

        body.dark-mode .strong-highlight {
            color: #00ffff;
        }

        /* Back to Home Link */
        .back-to-home {
            display: inline-block;
            margin: 40px auto 20px;
            padding: 12px 24px;
            background: #5b3dc2;
            color: white;
            text-decoration: none;
            border-radius: 8px;
            font-weight: 600;
            transition: all 0.3s ease;
            text-align: center;
        }

        .back-to-home:hover {
            background: #7c5ce3;
            transform: translateY(-2px);
        }

        body.dark-mode .back-to-home {
            background: #00d9ff;
            color: #000;
        }

        body.dark-mode .back-to-home:hover {
            background: #00bcd4;
        }

        /* üîπ Boundary boxes */
        .boundary-box {
            border: 3px solid transparent;
            border-radius: 12px;
            padding: 30px;
            margin: 20px 0;
            box-shadow: 0px 4px 12px rgba(245, 183, 0, 0.2);
            transition: all 0.3s ease;
            text-align: center;
            position: relative;
        }

        .boundary-box::before {
            content: '';
            position: absolute;
            top: -3px;
            left: -3px;
            right: -3px;
            bottom: -3px;
            background: linear-gradient(45deg, #ffd633, #ffb300, #ff9100, #ffd633);
            background-size: 400% 400%;
            border-radius: 15px;
            z-index: -1;
            animation: borderRotate 3s linear infinite;
        }

        body.dark-mode .boundary-box {
            box-shadow: 0px 4px 15px rgba(0, 217, 255, 0.3);
        }

        body.dark-mode .boundary-box::before {
            background: linear-gradient(45deg, #00d9ff, #0099cc, #0066cc, #00d9ff);
            animation: borderRotate 2s linear infinite;
        }

        /* Center alignment for all content */
        .center-content {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            text-align: center;
        }

        /* üì± RESPONSIVE - IMPROVED IMAGE HANDLING */
        @media (max-width: 768px) {
            .sidebar {
                left: -260px;
                width: 260px;
            }

            .sidebar.open {
                left: 0;
            }

            .main-content {
                margin-left: 0;
                padding: 80px 20px 20px 20px;
                width: 100%;
            }

            .sidebar.collapsed + .main-content {
                margin-left: 0;
                width: 100%;
            }

            .mobile-menu-toggle {
                display: block;
            }

            .diagram-container {
                min-height: 250px;
                max-width: 100%;
            }

            .diagram {
                max-height: 400px;
            }

            .diagram-placeholder {
                height: 300px;
                font-size: 0.9em;
            }

            .diagram-box,
            .theory-box,
            .boundary-box,
            .back-to-home {
                width: 100%;
                margin: 20px auto;
                padding: 25px 20px;
            }

            .activity-section {
                max-width: 100%;
                padding: 0;
            }

            h1 {
                font-size: 1.8em;
                margin-top: 20px;
            }

            h3 {
                font-size: 1.4em;
            }
        }

        @media (max-width: 480px) {
            .main-content {
                padding: 70px 15px 15px 15px;
            }

            .diagram-box,
            .theory-box,
            .boundary-box {
                padding: 20px 15px;
            }

            .diagram-container {
                min-height: 200px;
            }

            .diagram {
                max-height: 350px;
            }

            .diagram-placeholder {
                height: 250px;
                font-size: 0.8em;
            }

            h1 {
                font-size: 1.6em;
            }

            h3 {
                font-size: 1.3em;
            }
        }

        @media (max-width: 360px) {
            .diagram-container {
                min-height: 180px;
            }

            .diagram {
                max-height: 300px;
            }

            .diagram-placeholder {
                height: 200px;
            }
        }

        /* üé≠ BORDER ANIMATIONS */
        @keyframes borderRotate {
            0% {
                background-position: 0% 50%;
            }
            50% {
                background-position: 100% 50%;
            }
            100% {
                background-position: 0% 50%;
            }
        }
    </style>
</head>
<body>
    <!-- Fixed Mobile Menu Toggle -->
    <button class="mobile-menu-toggle" id="mobileMenuToggle">
        <i class="fas fa-bars"></i>
    </button>

    <!-- Fixed Sidebar - Consistent with main page -->
    <nav class="sidebar" id="sidebar">
        <div class="sidebar-header">
            <h2>Energy Systems</h2>
            <button class="nav-toggle-btn" id="navToggleBtn">
                <i class="fas fa-chevron-left"></i>
            </button>
        </div>

        <a href="index.html">
            <i class="fas fa-home"></i>
            <span>Home</span>
        </a>
        <a href="activity1.html" class="active">
            <i class="fas fa-sun"></i>
            <span>Solar Irrigation</span>
        </a>
        <a href="activity2.html">
            <i class="fas fa-fire"></i>
            <span>Geothermal Plant</span>
        </a>
        <a href="activity3.html">
            <i class="fas fa-recycle"></i>
            <span>Biomass Biogas</span>
        </a>
        
        <button class="mode-btn" id="modeBtn">
            <i class="fas fa-moon"></i> Dark Mode
        </button>
    </nav>

    <main class="main-content">
        <section class="activity-section">
            <h1>Solar-Powered Irrigation Pumping System</h1>

            <div class="diagram-box boundary-box">
                <h3>System Block Diagram</h3>
                <div class="diagram-container">
                    <img src="activity1.png" alt="Solar irrigation block diagram" class="diagram">
                </div>
            </div>

            <div class="theory-box boundary-box">
                <h3>Working Principle & Technical Details</h3>
                <p>
                    <span class="strong-highlight">Source of Energy:</span> The system operates entirely on <span class="highlight">solar radiation</span> captured by high-efficiency PV modules that convert sunlight directly into electrical energy through the <span class="highlight">photovoltaic effect</span>.<br><br>
                    
                    <span class="strong-highlight">Energy Conversion Process:</span> Solar panels generate <span class="highlight">DC electricity</span> which is regulated by <span class="highlight">MPPT charge controllers</span> to optimize power extraction. This energy either directly drives DC pumps or is stored in <span class="highlight">battery banks</span> for consistent operation. Inverter systems convert DC to AC when required for conventional pumps, ensuring reliable water delivery regardless of sunlight availability.<br><br>
                    
                    <span class="strong-highlight">System Output:</span> Provides <span class="highlight">automated, reliable water delivery</span> for agricultural irrigation with integrated moisture sensors that optimize water usage based on soil conditions, preventing over-irrigation and conserving water resources.<br><br>
                    
                    <span class="strong-highlight">Real-World Application:</span> Essential for <span class="highlight">off-grid farming</span> in arid regions, this technology enables sustainable agriculture by reducing dependence on fossil fuels and grid electricity. It significantly lowers operational costs while promoting environmental conservation through clean energy utilization in agricultural practices worldwide.
                </p>
            </div>
        </section>
        
        <a href="index.html" class="back-to-home">
            <i class="fas fa-arrow-left"></i> Back to Home
        </a>
    </main>

    <script>
        // Consistent JavaScript with main page
        const navToggleBtn = document.getElementById('navToggleBtn');
        const sidebar = document.getElementById('sidebar');
        const modeBtn = document.getElementById('modeBtn');
        const mobileMenuToggle = document.getElementById('mobileMenuToggle');

        // Toggle sidebar collapse
        navToggleBtn.addEventListener('click', function() {
            sidebar.classList.toggle('collapsed');
            const icon = this.querySelector('i');
            if (sidebar.classList.contains('collapsed')) {
                icon.className = 'fas fa-chevron-right';
            } else {
                icon.className = 'fas fa-chevron-left';
            }
        });

        // Toggle dark mode
        modeBtn.addEventListener('click', function() {
            document.body.classList.toggle('dark-mode');
            const icon = this.querySelector('i');
            if (document.body.classList.contains('dark-mode')) {
                icon.className = 'fas fa-sun';
                this.innerHTML = '<i class="fas fa-sun"></i> Light Mode';
            } else {
                icon.className = 'fas fa-moon';
                this.innerHTML = '<i class="fas fa-moon"></i> Dark Mode';
            }
        });

        // Mobile menu toggle
        mobileMenuToggle.addEventListener('click', function() {
            sidebar.classList.toggle('open');
        });

        // Close sidebar when clicking on a link (for mobile)
        const sidebarLinks = document.querySelectorAll('.sidebar a');
        sidebarLinks.forEach(link => {
            link.addEventListener('click', function() {
                if (window.innerWidth <= 768) {
                    sidebar.classList.remove('open');
                }
            });
        });

        // Close sidebar when clicking outside (for mobile)
        document.addEventListener('click', function(event) {
            if (window.innerWidth <= 768 && 
                !sidebar.contains(event.target) && 
                !mobileMenuToggle.contains(event.target) && 
                sidebar.classList.contains('open')) {
                sidebar.classList.remove('open');
            }
        });

        // Handle image loading errors
        document.addEventListener('DOMContentLoaded', function() {
            const images = document.querySelectorAll('.diagram');
            images.forEach(img => {
                img.addEventListener('error', function() {
                    this.style.display = 'none';
                    const container = this.parentElement;
                    container.innerHTML = `
                        <div class="diagram-placeholder">
                            <i class="fas fa-solar-panel" style="font-size: 3rem; margin-right: 15px;"></i>
                            Solar Irrigation System Diagram<br>
                            <small>Image not found: ${this.src.split('/').pop()}</small>
                        </div>
                    `;
                });
            });
        });
    </script>
</body>
</html>